---
layout: default

dns_prefetch: ['//www.google-analytics.com','//mapbox.com','//api.mapbox.com','//mapgive.state.gov','//geonode.state.gov','//secondarycities.state.gov']

---
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="google" content="notranslate" />
    <meta http-equiv="Content-Language" content="en_US" />
    {% if site.twittercard_enabled == true %}
      {% if page.categories contains "products" %}
        {% include twittercard_product.html %}
      {% else %}
        {% include twittercard_default.html %}
      {% endif %}
    {% endif %}
    {% if site.opengraph_enabled == true %}
      {% if page.categories contains "products" %}
        {% include opengraph_product.html %}
      {% else %}
        {% include opengraph_default.html %}
      {% endif %}
    {% endif %}
    {% for dns in page.dns_prefetch %}
    <link rel="dns-prefetch" href="{{ dns }}">
    {% endfor %}
    <title>{{ page.title }}</title>
    <link rel="shortcut icon" type="image/ico" href="{{ site.baseurl }}/favicon.ico" />
    <!-- CSS / External-->
    <!--<link href="{{ site.baseurl }}/lib/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="{{ site.baseurl }}/lib/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet"/>-->
    <link href="{{ site.baseurl }}/assets/css/bootstrap.less.css" rel="stylesheet"/>
    <link rel="stylesheet" href="{{ site.baseurl }}/lib/leaflet/1.0.0-b1/leaflet.css" type="text/css" media="all" />
    <!-- CSS / Internal -->
    <link href='{{site.baseurl}}/site.css' rel='stylesheet' />
    <!-- JavaScript / External -->	
    <!--<script src="{{ site.baseurl }}/lib/jquery/1.7.2/jquery-1.7.2.js"></script>-->
    <script src="{{ site.baseurl }}/lib/jquery/1.9.1/jquery-1.9.1.js"></script>
    <script src="{{ site.baseurl }}/lib/jqueryui/jquery-ui-1.8.14.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0-beta.4/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0-beta.4/angular-route.js"></script>
    {% if site.debug_bootstrap == true %}
    <script src="{{ site.baseurl }}/lib/bootstrap/3.3.5/dist/js/bootstrap.js"></script>
    {% else %}
    <script src="{{ site.baseurl }}/lib/bootstrap/3.3.5/dist/js/bootstrap.min.js"></script>
    {% endif %}
    {% if site.debug_leaflet == true %}
    <script src="{{ site.baseurl }}/lib/leaflet/1.0.0-b1/leaflet-src.js"></script>
    <script src="{{ site.baseurl }}/lib/Leaflet.utfgrid/dist/leaflet.utfgrid-src.js"></script>
    {% else %}
    <script src="{{ site.baseurl }}/lib/leaflet/1.0.0-b1/leaflet.js"></script>
    <script src="{{ site.baseurl }}/lib/Leaflet.utfgrid/dist/leaflet.utfgrid.js"></script>
    {% endif %}
    <!-- JavaScript / Internal -->		
    <script type="text/javascript" language="Javascript">
        var now = new Date();
        var today = new Date(now.getFullYear(),now.getMonth(),now.getDate());
    </script>
    <script type="text/javascript" language="Javascript">
        var mb_access_token = '{{ site.mapbox_access_token }}';
        var mb_url_tiles = '{{ site.mapbox_url_tiles }}' + mb_access_token;
        var mb_url_utfgrid = '{{ site.mapbox_url_utfgrid }}'+ mb_access_token;
        var gn_url_tiles = '{{ site.geonodes[0].tiles }}';
    </script>
    <script type="text/javascript" language="Javascript">
        var site = 
        {
            "regions": 
            {
                {% for r in site.categories.regions %}
                "{{ r.region_id }}":"{{ r.title }}"{% unless forloop.last %},{% endunless %}
                {% endfor %}
            },
            "geonodes": 
            {
                {% for gn in site.geonodes %}
                "{{ gn.id }}":
                {
                    "name": "{{ gn.name }}",
                    "wms": "{{ gn.name }}",
                    "tiles": "{{ gn.tiles }}" 
                }{% unless forloop.last %},{% endunless %}
                {% endfor %}
            }
        };
    </script>
    <script type="text/javascript" language="Javascript">
        var tilelayers =
        [
                {% for tl in page.tilelayers %}
                {"id":"{{ tl.id }}","type":"{{ tl.type }}","geonode":"{{ tl.geonode }}","attribution":"{{ tl.attribution }}"}{% unless forloop.last %},{% endunless %}
                {% endfor %}
        ];
    </script>
    <script type="text/javascript" language="Javascript">
        var buildBoundingBox = function(b)
        {
            var g = [0,0,0,0];
            try{
                g =
                [
                    parseFloat(parseFloat(b.children('westBoundLongitude').text()).toFixed(4)),
                    parseFloat(parseFloat(b.children('southBoundLatitude').text()).toFixed(4)),
                    parseFloat(parseFloat(b.children('eastBoundLongitude').text()).toFixed(4)),
                    parseFloat(parseFloat(b.children('northBoundLatitude').text()).toFixed(4))
                ];
            }catch(err){g = [0,0,0,0];}
            return g;
        };
        var ellipsis = function(text,len)
        {
            if(len==-1)
                return text;
            else
                return (text.length>len)?(text.substring(0,len-3)+'...'):text;
        };
        var createLink = function(map, layer, label, zIndex)
        {
            var link = document.createElement('a');
            link.href = '#';
            link.className = 'active';
            link.innerHTML = label;
            $(link).data('map', map)
            $(link).data('layer', layer)
            $(link).data('zIndex', zIndex)
            $(link).click(function(e){
                e.preventDefault();
                e.stopPropagation();
                var map = $(this).data('map');
                var layer = $(this).data('layer');
                if(map.hasLayer(layer))
                {
                    map.removeLayer(layer);
                    this.className = ''
                }
                else
                {
                    map.addLayer(layer);
                    this.className = 'active';
                }
            });
            return link;
        };
        var sortLayers = function(layers)
        {
            return layers.sort(function(a, b){
                return a.options.zIndex - b.options.zIndex;
            });
        };
        var updateRenderOrder = function(layers)
        {
            for(var i = 0; i < layers.length; i++)
            {
                layers[i].bringToFront();
            }
        }
    </script>
    <!--Digital Analytics Program roll-up, see https://analytics.usa.gov for data-->
    {% if site.dap.enabled == true %}
    <script id="_fed_an_ua_tag" src="{{ site.baseurl }}/lib/dap/1.02/Universal-Federated-Analytics-Min.1.0.js?agency={{ site.dap.agency }}&amp;subagency={{ site.dap.subagency }}"></script>
    {% endif %}
    {% if site.ga.enabled == true %}
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', '{{ site.ga.code }}', 'auto');
      ga('send', 'pageview');
    </script>
    {% endif %}
  </head>
  <body>
    {{ content }}
  </body>
</html>
